{% extends "main.html" %} {% block content %}
<div class="bg-gray-100 min-h-screen py-10">
  <div class="w-1/2 mx-auto">
    <!-- Progress Steps -->
    {%include "choose/progress.html"%}
    <!-- Step Content -->
    <div id="step1" class="px-6 py-8 bg-white rounded shadow-md">
      {% include "choose/uni_heading.html" %}
      <div>
        <form action="" method="post" class="max-w-xl mx-auto mb-8">
          {% csrf_token %}
          <div class="flex">
            <div class="relative flex-grow">
              <div
                class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"
              >
                {%include "svg/search.html"%}
              </div>
              <input
                name="query"
                type="text"
                class="bg-white border border-gray-300 text-gray-900 text-sm rounded-l-full w-full pl-10 p-3 focus:ring-teal-500 focus:border-teal-500 outline-none"
                placeholder="Find your school"
                value="University of Cambridge"
              />
            </div>
            <button
              type="submit"
              class="bg-teal-500 hover:bg-teal-600 text-white font-medium px-6 rounded-r-full transition-colors duration-300 flex items-center justify-center"
            >
              Search
            </button>
          </div>
        </form>

        <div class="max-w-xl mx-auto">
          <a
            href="#"
            class="block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 border-l-8 border-teal-600"
          >
            <div class="p-6">
              <h2 class="text-xl font-bold text-gray-800 mb-1">
                University of Cambridge
              </h2>
              <div class="flex items-center text-gray-500">
                <span class="inline-block mr-2">ðŸ‡¬ðŸ‡§</span>
                <span>Cambridge, United Kingdom</span>
              </div>
            </div>
          </a>

          <div class="text-center mt-8">
            <a
              href="#"
              class="px-8 py-3 bg-teal-500 hover:bg-teal-600 text-white font-medium rounded-md inline-flex items-center transition-colors duration-300"
            >
              Continue {% include "svg/arrow-right.html" %}
            </a>
          </div>
        </div>
      </div>
    </div>
    <div id="step2" class="px-6 py-8 bg-white rounded shadow-md hidden">
      <h2 class="text-xl font-semibold mb-4">Step 2</h2>
      <p>More details here...</p>
    </div>
    <div id="step3" class="px-6 py-8 bg-white rounded shadow-md hidden">
      <h2 class="text-xl font-semibold mb-4">Step 3</h2>
      <p>Final confirmation here...</p>
    </div>

    <!-- Navigation Buttons -->
    <div class="mt-8 flex justify-between">
      <button
        id="prevBtn"
        class="bg-gray-400 text-white px-4 py-2 rounded disabled:opacity-50"
        disabled
      >
        Previous
      </button>
      <button id="nextBtn" class="bg-blue-600 text-white px-4 py-2 rounded">
        Next
      </button>
    </div>
  </div>
</div>

<script>
  const steps = ["step1", "step2", "step3"];
  const circles = ["circle1", "circle2", "circle3"];
  let currentStep = 0;

  function updateUI() {
    steps.forEach((id, idx) => {
      document
        .getElementById(id)
        .classList.toggle("hidden", idx !== currentStep);
    });

    circles.forEach((id, idx) => {
      const el = document.getElementById(id);
      if (idx <= currentStep) {
        el.classList.remove("bg-gray-300", "text-gray-700");
        el.classList.add("bg-blue-600", "text-white");
      } else {
        el.classList.add("bg-gray-300", "text-gray-700");
        el.classList.remove("bg-blue-600", "text-white");
      }
    });

    document.getElementById("line-progress").style.width = `${
      (currentStep / (steps.length - 1)) * 100
    }%`;
    document.getElementById("prevBtn").disabled = currentStep === 0;
    document.getElementById("nextBtn").textContent =
      currentStep === steps.length - 1 ? "Finish" : "Next";
  }

  document.getElementById("nextBtn").addEventListener("click", () => {
    if (currentStep < steps.length - 1) {
      currentStep++;
      updateUI();
    } else {
      alert("Form submitted!");
    }
  });

  document.getElementById("prevBtn").addEventListener("click", () => {
    if (currentStep > 0) {
      currentStep--;
      updateUI();
    }
  });

  updateUI();
</script>
{% endblock content %}
